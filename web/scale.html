<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>chart</title>
		<script src="http://d3js.org/d3.v3.min.js"></script>
		<style>
		div.bar{display:inline-block;width:20px;height:75px;background-color:red;}
		.axis path{fill:none; stroke:black;}
		.axis line{fill:none; stroke:black;}
		.axis text{font-family: sans-serif; font-size:11px;};
		</style>
    </head>
    <body>
<script type="text/javascript">
	var w = 80;
	var h = 600;
	var padding = 40;
	var svg = d3.select("body")
		.append("svg")
		.attr("width", w)
		.attr("height", h);
	
	var dataset = d3.csv('../data/all_clean_noquot.csv', function(data){
		//console.log(data)
		dataset = data
		var x = 40
		generateVis(x);
	})

	function generateVis(x){
		console.log("generate")

		
		console.log("scale")
		var yScale = d3.scale.linear()
			.domain([0,850])
			.range([h-10,0]);
			
		
		var rect = svg.selectAll("rect")
			.data(dataset)
			.enter()
			.append("rect")
			.attr("width",20)
			.attr("x",x)
			
			.attr("y",function(d){return yScale(parseFloat(d.frequency))})
			.attr("height", 2)
			.attr("fill",function(d){
				//console.log("checkcolor")
				if(d.category == "human"){
					//console.log("true")
				return "#C0533A";
				}else{
				return "#4776DB";	
				}
				})
			.attr("opacity",0.1);
			

		var yAxis = d3.svg.axis()
			.scale(yScale)
			.orient("left")
			.ticks(10);
		
		svg.append("g")
			.attr("class", "axis")
			.attr("transform", "translate("+padding+",0)")
			.call(yAxis);
	}

		</script>
    </body>
</html>